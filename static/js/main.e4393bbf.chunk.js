(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(t,e,a){t.exports={graphContainer:"timeline_graphContainer__1X6eL"}},136:function(t,e,a){t.exports={menu:"menu_menu__8vnjN"}},141:function(t,e,a){t.exports={container:"toggle_container__3VUN2"}},144:function(t,e,a){t.exports={container:"analogWriteSlider_container__Us8ZG"}},145:function(t,e,a){t.exports={container:"dial_container__1ZnML"}},153:function(t,e,a){t.exports=a(278)},158:function(t,e,a){},159:function(t,e,a){},248:function(t,e,a){},274:function(t,e,a){},277:function(t,e,a){},278:function(t,e,a){"use strict";a.r(e);var n,i,s,r,o,c,l=a(1),u=a.n(l),d=a(7),h=a.n(d),p=(a(158),a(14)),m=a(15),f=a(17),v=a(16),g=a(56),b=a(18),y=(a(159),a(84),a(8)),E=(a(161),a(60)),k=(a(103),a(136)),C=a.n(k),j=E.a.SubMenu,O=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(f.a)(this,Object(v.a)(e).call(this))).handleClick=function(e){t.setState({current:e.key}),t.props.getChoice(e.key)},t.state={current:"hq"},t}return Object(b.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return u.a.createElement(E.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal",theme:"dark",className:C.a.menu},u.a.createElement(j,{title:u.a.createElement("span",{className:"submenu-title-wrapper",style:{color:"rgba(255, 255, 255, 0.6"}},u.a.createElement(y.a,{type:"setting"}),"Mo Controls")},u.a.createElement(E.a.ItemGroup,null,u.a.createElement(E.a.Item,{key:"hq"},"Unit HQ"),u.a.createElement(E.a.Item,{key:"about"},u.a.createElement("a",{href:"http://www.robotstack.com",target:"_blank",rel:"noopener noreferrer"},"About")))))}}]),e}(l.Component),x=(a(135),a(30)),U=(a(64),a(23)),w=(a(279),a(146)),S=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).onChange=function(t){var e=a.props.allUnits[t-1];a.setState({activeUnit:e,current:t}),a.props.getActiveUnit(e)},a.state={activeUnit:a.props.allUnits[0],current:1},a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"itemRender",value:function(t,e,a){var n=this.props,i=n.allUnits,s=t-1,r=(0,n.getColors)(i,this.state.activeUnit,1,.5);return"page"===e?u.a.createElement("a",{alt:i[s],style:{color:r[s],fontSize:".9em",padding:"0px"}},i[s]):a}},{key:"render",value:function(){var t=this.props.allUnits,e=this.state.current;return u.a.createElement(w.a,{current:e,pageSize:1,onChange:this.onChange,total:t.length,size:this.props.size,showLessItems:!0,style:{position:"relative",bottom:"1px"},itemRender:this.itemRender.bind(this)})}}]),e}(u.a.Component),P=a(140),I=a.n(P),N={style:{background:"rgba(0, 0, 0, 0.65)",width:"100%",height:"100%",minHeight:"190px",minWidth:"250px"},contentStyle:{color:"rgba(255, 255, 255, 0.65)"},inputStyle:{color:"rgba(255, 255, 255, 0.65)",position:"relative",top:"3px"},promptLabelStyle:{color:"rgba(238, 156, 52, 0.75)"}},D=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).commands={echo:{description:"Echo a passed string.",usage:"echo <string>",fn:function(){return"".concat(Array.from(arguments).join(" "))}},man:{description:"Manual of mo commands.",usage:"man",fn:function(){return"the console feature is in development, try again soon."}},digitalWrite:{description:"Write a high or low value to a pin.",usage:"digitalWrite <pin> <value> <unitId>",fn:function(t,e,n){var i=a.terminal.current;fetch("/digitalwrite/"+t+"/"+e+"/"+n+"/").then(function(t){return t.json()}).then(function(t){return i.pushToStdout(JSON.stringify(t.reply))})}},rotate:{description:"Rotate at the given speed in the given direction.",usage:"rotate <speed> <direction> <unitId>",fn:function(t,e,n){var i=a.terminal.current;fetch("/rotate/"+t+"/"+e+"/"+n+"/").then(function(t){return t.json()}).then(function(t){return i.pushToStdout(JSON.stringify(t.reply))})}},wait:{description:"Waits one second and sends a message.",usage:"wait",fn:function(){var t=a.terminal.current;return setTimeout(function(){return t.pushToStdout("Hello after 1 second!")},1500),"Running, please wait..."}}},a.terminal=u.a.createRef(),a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return u.a.createElement(I.a,Object.assign({ref:this.terminal,commands:this.commands,welcomeMessage:'type "man" for commands',promptLabel:"mo>"},N))}}]),e}(u.a.Component),R=(a(248),a(249),a(142)),T=a(141),_=a.n(T),A=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).state={checked:!1},a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this.state.checked?1:0;fetch("/digitalwrite/"+this.props.pin+"/"+t+"/"+this.props.unitId+"/").then(function(t){return t.json()}).then(function(t){return console.log(t)})}},{key:"onChange",value:function(t){var e=t?1:0;fetch("/digitalwrite/"+this.props.pin+"/"+e+"/"+this.props.unitId+"/").then(function(t){return t.json()}).then(function(t){return console.log(t)}),this.setState({checked:t})}},{key:"render",value:function(){return u.a.createElement("div",{className:_.a.container},u.a.createElement(R.a,{onChange:this.onChange.bind(this),checked:this.state.checked,size:this.props.size}))}}]),e}(l.Component),V=(a(252),a(148)),B=a(144),M=a.n(B),z=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).state={value:0},a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){fetch("/analogwrite/"+this.props.pin+"/"+this.state.value+"/"+this.props.unitId+"/").then(function(t){return t.json()}).then(function(t){return console.log(t)})}},{key:"onChange",value:function(t){fetch("/analogwrite/"+this.props.pin+"/"+t+"/"+this.props.unitId+"/").then(function(t){return t.json()}).then(function(t){return console.log(t)}),this.setState({value:t})}},{key:"render",value:function(){return u.a.createElement("div",{className:M.a.container},u.a.createElement(V.a,{vertical:!0,max:255,defaultValue:this.state.value,onChange:this.onChange.bind(this)}))}}]),e}(l.Component),H=a(82),W=a.n(H),L=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).state={value:"click"},a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"onClick",value:function(){var t=this;fetch("/analogread/"+this.props.pin+"/"+this.props.unitId+"/").then(function(t){return t.json()}).then(function(e){console.log(e),e.reply&&t.setState({value:e.reply.params})})}},{key:"render",value:function(){return u.a.createElement("div",{className:W.a.container},u.a.createElement(U.a,{size:this.props.size,onClick:this.onClick.bind(this),className:W.a.buttonUnit},u.a.createElement("span",{className:W.a.budge},this.state.value)))}}]),e}(l.Component),Q=a(145),F=a.n(Q),X=a(36),q="rgba(255, 255, 255, 0.65)",J="rgba(255, 255, 255, 0.2)",Y=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).getMotiPos=function(){return fetch("/get/R_PRESENT_POSITION/1/"+a.props.unitId+"/").then(function(t){return t.json()}).then(function(t){if(t.reply.params){var e=t.reply.params[0]/a.props.steps;null!==e&&!1===isNaN(e)&&a.setState({motiPos:e})}}).catch(function(t){return console.log(t)})},a.state={rotations:0,dialPos:0,lastDialVal:0,motiPos:0},a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){this.getMotiPos(),setInterval(this.getMotiPos,250)}},{key:"getRangeValue",value:function(t){return Math.round(360*t)}},{key:"checkRollover",value:function(t){var e=0,a=this.state.lastDialVal;return t<a-.8?e=1:t>a+.8&&(e=-1),e}},{key:"moveIt",value:function(){var t=this.state.dialPos*this.props.steps;fetch("/rotateTo/"+t+"/"+this.props.speed+"/"+this.props.unitId+"/").then(function(t){return t.json()}).then(function(t){console.log(t)})}},{key:"changeValue",value:function(t){if(this.props.capture);else{var e=this.state.rotations+this.checkRollover(t),a=t+e;this.setState({lastDialVal:t,rotations:e,dialPos:a}),this.props.getDialPos(a),this.moveIt()}}},{key:"componentDidUpdate",value:function(t,e){var a=this.props,n=a.incomingVal,i=a.capture,s=a.getDialPos,r=this.state,o=r.motiPos,c=r.dialPos;null!==n&&n!==t.incomingVal&&(this.setState({dialPos:n,lastIncomingVal:n}),0==i&&this.moveIt()),i&&o!==e.motiPos&&this.setState({dialPos:o,lastDialVal:o}),c!==e.dialPos&&s(o)}},{key:"render",value:function(){var t=this.state,e=t.motiPos,a=t.dialPos,n=this.getRangeValue(a),i=this.getRangeValue(e),s=this.props,r=s.radius,o=s.capture,c=o?"("+i+"\xb0)":n+"\xb0 ",l=o?"":"("+i+"\xb0)";return u.a.createElement("div",{className:F.a.container},u.a.createElement(X.CircularInput,{onChange:this.changeValue.bind(this),value:a,radius:r},u.a.createElement(X.CircularTrack,{strokeWidth:3,stroke:J}),u.a.createElement(X.CircularProgress,{strokeWidth:0,stroke:J}),u.a.createElement(X.CircularThumb,{strokeWidth:1,stroke:J,fill:q,r:7}),u.a.createElement("text",{x:r,y:r,textAnchor:"middle",dy:"0.3em",fill:q},c),u.a.createElement("text",{x:r,y:r+16,textAnchor:"middle",fontSize:"10px",fill:J},l)),u.a.createElement("br",null))}}]),e}(l.Component),G=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(f.a)(this,Object(v.a)(e).call(this))).state={capture:!1},t}return Object(b.a)(e,t),Object(m.a)(e,[{key:"onCaptureClick",value:function(){var t=this.props.getCapture,e=this.state.capture;e=!e,this.setState({capture:e}),t(e),e&&fetch("/rotate/0/0/"+this.state.activeUnit+"/").then(function(t){return t.json()}).then(function(t){})}},{key:"render",value:function(){var t=this.props,e=t.activeUnit,a=t.colors,n=t.allUnits,i=t.steps,s=t.activePointVal,r=t.getDialPos,o=t.screen,c=this.state.capture,l=c?"vertical-align-top":"vertical-align-bottom",d=a[n.indexOf(e)],h=100,p="default";return o.width<400?(h=50,p="small"):o.width<600?(h=75,p="small"):o.width>1080&&(h=100,p="default"),u.a.createElement("div",{className:"UIcontrols"},u.a.createElement("div",{className:"UIpinBox"},u.a.createElement(x.a,{type:"flex",justify:"start",align:"middle"},u.a.createElement("div",{className:"UIpinUnit"},"p11 ",u.a.createElement(A,{unitId:e,pin:11,size:p}))),u.a.createElement(x.a,{type:"flex",justify:"start",align:"middle"},u.a.createElement("div",{className:"UIpinUnit"},"p12 ",u.a.createElement(A,{unitId:e,pin:12,size:p}))),u.a.createElement(x.a,{type:"flex",justify:"start",align:"middle"},u.a.createElement("div",{className:"UIpinUnit"},"p13 ",u.a.createElement(A,{unitId:e,pin:13,size:p}))),u.a.createElement(x.a,{type:"flex",justify:"start",align:"middle"},u.a.createElement("div",{className:"UIpinUnit"},"a2 ",u.a.createElement(L,{unitId:e,pin:16,size:p}))),u.a.createElement(x.a,{type:"flex",justify:"start",align:"middle"},u.a.createElement("div",{className:"UIpinUnit"},"a3 ",u.a.createElement(L,{unitId:e,pin:17,size:p}))),u.a.createElement(x.a,{type:"flex",justify:"start",align:"middle"},u.a.createElement("div",{className:"UIpinUnit"},"a4 ",u.a.createElement(L,{unitId:e,pin:18,size:p})))),u.a.createElement("div",{className:"UIvSliderBox"},u.a.createElement("div",{className:"UIvSliderUnit"},u.a.createElement(z,{unitId:e,pin:14}),u.a.createElement("br",null),u.a.createElement("span",{className:"UIvSliderTitle"},"a0")),u.a.createElement("div",{className:"UIvSliderUnit"},u.a.createElement(z,{unitId:e,pin:15}),u.a.createElement("br",null),u.a.createElement("span",{className:"UIvSliderTitle"},"a1")),u.a.createElement("div",{className:"UIvSliderUnit"},u.a.createElement(z,{unitId:e,pin:10}),u.a.createElement("br",null),u.a.createElement("span",{className:"UIvSliderTitle"},"p10"))),u.a.createElement("div",{className:"UIdialBox"},u.a.createElement(Y,{unitId:e,steps:i,radius:h,speed:255,capture:c,getDialPos:r,incomingVal:s,vscreen:o}),u.a.createElement(U.a,{type:"link",onClick:this.onCaptureClick.bind(this),className:"UIcaptureIconUnit"},u.a.createElement(y.a,{type:l,className:"UIcaptureButtonText",style:{color:d}})),u.a.createElement("span",{className:"UImotorId"},"MO:",e)))}}]),e}(l.Component),Z=a(150),K=a(151),$=a(79),tt=a.n($),et=a(149),at=a(9);function nt(t,e){return isNaN(e)?t:Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function it(t,e,a,n,o){var c,l;return t.touches?(c=e.scales[s].getValueForPixel(t.touches[0].clientX-e.canvas.getBoundingClientRect().left),l=e.scales[i].getValueForPixel(t.touches[0].clientY-e.canvas.getBoundingClientRect().top)):(c=e.scales[s].getValueForPixel(t.clientX-e.canvas.getBoundingClientRect().left),l=e.scales[i].getValueForPixel(t.clientY-e.canvas.getBoundingClientRect().top)),c=nt(c,e.options.dragDataRound),l=nt(l,e.options.dragDataRound),c=(c=c>e.scales[s].max?e.scales[s].max:c)<e.scales[s].min?e.scales[s].min:c,l=(l=l>e.scales[i].max?e.scales[i].max:l)<e.scales[i].min?e.scales[i].min:l,e.data.datasets[a].data[n].x&&e.options.dragX&&(o.x=c),e.data.datasets[a].data[n].y?(o.y=l,o):"horizontalBar"===r?c:l}function st(t,e){return function(){if(n&&at.b){var a=at.b.sourceEvent,s=n._datasetIndex,l=n._index,u=t.data.datasets[s].data[l];if("radar"===r)u=function(t,e){var a,n,s;t.touches?(a=t.touches[0].clientX-e.canvas.getBoundingClientRect().left,n=t.touches[0].clientY-e.canvas.getBoundingClientRect().top):(a=t.clientX-e.canvas.getBoundingClientRect().left,n=t.clientY-e.canvas.getBoundingClientRect().top);var r=e.scales[i],o=Math.sqrt(Math.pow(a-r.xCenter,2)+Math.pow(n-r.yCenter,2)),c=r.drawingArea/(r.max-r.min);return s=(s=(s=nt(s=r.options.ticks.reverse?r.max-o/c:r.min+o/c,e.options.dragDataRound))>e.scale.max?e.scale.max:s)<e.scale.min?e.scale.min:s}(a,t);else if(o){u=it(a,t,s,l,u)-c}else u=it(a,t,s,l,u);"function"===typeof e?!1!==e(a,s,l,u)&&(t.data.datasets[s].data[l]=u,t.update(0)):(t.data.datasets[s].data[l]=u,t.update(0))}}}var rt={id:"dragdata",afterInit:function(t){t.options.dragData&&Object(at.d)(t.chart.canvas).call(Object(et.a)().container(t.chart.canvas).on("start",function(t,e){return function(){if(at.b){var a=at.b.sourceEvent,l=t.options.activeLine;n=t.getElementsAtEvent(a)[l];var u="radar"===(r=t.config.type)?"_scale":"_yScale";if(n){if(!1===t.data.datasets[n._datasetIndex].dragData||!1===n[u].options.dragData)return void(n=null);if(i=n[u].id,n._xScale&&(s=n._xScale.id),"bar"===r||"horizontalBar"===r){o=t.config.options.scales.xAxes[0].stacked;var d=n._datasetIndex,h=n._index,p=it(a,t,d,h,{}),m=t.data.datasets[d].data[h];c=p-m}"function"===typeof e&&n&&!1===e(a,n)&&(n=null)}}}}(t,t.options.onDragStart)).on("drag",st(t,t.options.onDrag)).on("end",function(t,e){return function(){if("function"===typeof e&&n){var a=at.b.sourceEvent,i=n._datasetIndex,s=n._index,r=t.data.datasets[i].data[s];return e(a,i,s,r)}}}(t,t.options.onDragEnd)))}};tt.a.pluginService.register(rt);var ot=a(101),ct=a.n(ot),lt=(a(274),!0),ut="rgba(255, 255, 255, 0.65)",dt=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).saveDatasets=function(){try{var t=[];a.chart.data.datasets.forEach(function(e,a){t[a]=Object(K.a)({},e),delete t[a]._meta,t[a].data=Object(Z.a)(e.data)}),localStorage.removeItem("storedDatasets"),localStorage.setItem("storedDatasets",JSON.stringify(t))}catch(e){console.log("failed save")}},a.clearDatasets=function(){var t=a.props,e=t.allUnits,n=t.colors,i=a.state.numPoints,s=e.map(function(t,e){return{id:t,label:"MO"+t,data:new Array(i).fill(90*e),pointBackgroundColor:new Array(i).fill(n[e]),pointRadius:a.setPointsRadii(i,0),radius:4,pointHitRadius:25,pointHoverRadius:8,pointHoverColor:"#FFF",borderColor:n[e],borderWidth:1,fill:!1}});return console.log("new datasets"),a.saveDatasets(),s},a.chartRef=u.a.createRef(),a.state={numPoints:10,activePoint:0,activePointVal:null,interval:2e3,intervalId:null,play:!1,edit:!1},a.saveDatasets.bind(Object(g.a)(a)),a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.state,a=e.numPoints,n=e.interval,i=Array.from({length:a},function(t,e){return(e*n/1e3).toFixed(2)}),s=this.createChartLines(),r=function(e){var a=t.props,n=a.allUnits,i=a.activeUnit,s=!1;return e===n.indexOf(i)&&(s=!0),s},o=function(e){return t.setActivePoint(e)},c=function(e){t.setState({activePointVal:e}),t.props.getActivePointVal(e)},l={type:"line",data:{labels:i,datasets:s,backgroundColor:"rgba(0,0,0,0)"},options:{dragData:!0,dragX:!1,dragDataRound:0,activeLine:0,onDragStart:function(t,e){var a=e._index;if(o(a),lt||!r(e._datasetIndex))return!1},onDrag:function(t,e,a,n){r(e)&&(o(a),c(n/360))},onDragEnd:function(t,e,a,n){r(e)&&(o(a),c(n/360))},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"degrees",fontColor:ut,padding:0},ticks:{stepSize:360,suggestedMax:1080,suggestedMin:-1080,padding:0,fontColor:ut,fontSize:11},gridLines:{color:"rgba(255, 255, 255, 0.2)"}}],xAxes:[{scaleLabel:{display:!0,labelString:"seconds",fontColor:ut},ticks:{fontColor:ut,fontSize:11},gridLines:{color:"rgba(255, 255, 255, 0.2)"}}]},animation:{duration:this.state.interval/2},legend:{display:!1,labels:{boxWidth:0}},responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"nearest",intersect:!0},hover:{mode:"nearest",intersect:!0},layout:{padding:{top:0,left:0,right:0,bottom:0}}}};this.chartRef=this.chartRef.current.getContext("2d"),this.chart=new tt.a(this.chartRef,l),this.pause(),this.lock(),setInterval(this.saveDatasets,1e4)}},{key:"setPointsRadii",value:function(t,e){return Array.from({length:t},function(t,a){return a===e?8:4})}},{key:"createChartLines",value:function(){var t=JSON.parse(localStorage.getItem("storedDatasets"));return t||(t=this.clearDatasets()),t}},{key:"nextActivePoint",value:function(){var t=this.props,e=t.allUnits,a=t.activeUnit,n=e.indexOf(a),i=this.chart.data.datasets[n].data.length,s=this.state.activePoint+1>=i?0:this.state.activePoint+1;this.setActivePoint(s)}},{key:"moveIt",value:function(t,e){this.state.play&&fetch("/rotateTo/"+t+"/255/"+e+"/").then(function(t){return t.json()}).then(function(t){console.log(t)})}},{key:"setActivePoint",value:function(t){var e=this;this.setState({activePoint:t});var a=this.props.allUnits,n=this.state.numPoints;this.chart.data.datasets.forEach(function(a){a.pointRadius=e.setPointsRadii(n,t)}),this.chart.update(),a.forEach(function(a,n){var i=e.chart.data.datasets[n].data[t]/360*e.props.steps;e.moveIt(i,a)})}},{key:"edit",value:function(){this.pause(),this.setState({edit:!0}),this.setActivePoint(0),lt=!1}},{key:"lock",value:function(){this.setState({edit:!1}),lt=!0}},{key:"play",value:function(){var t=this;this.lock(),this.setState({play:!0});var e=setInterval(function(){return t.nextActivePoint()},this.state.interval);this.setState({intervalId:e})}},{key:"pause",value:function(){this.setState({play:!1});var t=this.state.intervalId;t&&clearInterval(t),this.setState({intervalId:null})}},{key:"componentDidUpdate",value:function(t,e){var a=this.props,n=a.makePlay,i=a.makeEdit,s=a.makeSave,r=a.makeClear,o=a.allUnits,c=a.activeUnit,l=a.inPointVal,u=a.colors,d=o.indexOf(c);if(n!==t.makePlay&&(n?this.play():this.pause()),i!==t.makeEdit&&(i?this.edit():this.lock()),s!==t.makeSave&&this.saveDatasets(),r!==t.makeClear&&(this.chart.data.datasets=this.clearDatasets(),this.chart.update(),this.saveDatasets()),null!=l&&l!==t.inPointVal&&i){var h=this.state.activePoint;this.chart.data.datasets[d].data[h]=360*l,this.chart.update(),this.setState({activePointVal:l})}if(c!==t.activeUnit){var p=o.indexOf(c);this.chart.options.activeLine=p}if(u!==t.colors){var m=this.state.numPoints;this.chart.data.datasets.forEach(function(t,e){var a=new Array(m).fill(u[e]);t.pointBackgroundColor=a,t.borderColor=u[e]}),this.chart.update()}}},{key:"render",value:function(){return u.a.createElement("div",{className:ct.a.graphContainer},u.a.createElement("canvas",{id:"chart",ref:this.chartRef,className:ct.a.canvas}))}}]),e}(l.Component),ht=(a(275),a(147)),pt=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).showModal=function(){a.setState({visible:!0})},a.handleOk=function(t){console.log(t),a.setState({visible:!1})},a.handleCancel=function(t){console.log(t),a.setState({visible:!1})},a.state={visible:!1},a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var t=this,e=this.props,a=e.saveTrigger,n=e.clearTrigger;return u.a.createElement("div",null,u.a.createElement(ht.a,{title:"Timeline Settings",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},u.a.createElement(U.a,{type:"primary",size:"small",onClick:function(){return t.props.getSaveTrigger(a+1)}},"save"),"\xa0",u.a.createElement(U.a,{type:"primary",size:"small",onClick:function(){return t.props.getClearTrigger(n+1)}},"clear")))}}]),e}(u.a.Component),mt=(a(277),function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(v.a)(e).call(this,t))).getColors=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2;return t.map(function(t,i){return"hsla("+(56*i+0)%360+", 100%, 70%, "+(t===e?a:n)+")"})},a.state={activeUnit:1,capture:!1,dialPos:0,activePointVal:null,areTimelinesPlaying:!1,areTimelinesEditing:!1,saveTrigger:!1,clearTrigger:!1,colors:a.getColors(a.props.allUnits,1)},a}return Object(b.a)(e,t),Object(m.a)(e,[{key:"onPlayClick",value:function(){this.setState({areTimelinesPlaying:!this.state.areTimelinesPlaying})}},{key:"onEditClick",value:function(){this.setState({areTimelinesEditing:!this.state.areTimelinesEditing})}},{key:"componentDidUpdate",value:function(t,e){var a=this.props.allUnits,n=this.state.activeUnit;if(a!==t.allUnits||n!==e.activeUnit){var i=this.getColors(a,n);this.setState({colors:i})}}},{key:"render",value:function(){var t,e,a=this,n=this.state,i=n.activeUnit,s=n.colors,r=this.props,o=r.allUnits,c=r.screen,l=!1===this.state.areTimelinesPlaying?"play-circle":"pause-circle",d=!1===this.state.areTimelinesEditing?"edit":"lock",h="default";c&&(c.width<600?h="small":c.width>2e3&&(h="large"),c.width>800&&(e=u.a.createElement("div",{className:"HQconsole"},u.a.createElement(D,null))),c.height>400&&(t=u.a.createElement("div",{className:"HQtopContainer"},e,u.a.createElement("div",{className:"HQuiControls"},u.a.createElement(G,{activeUnit:i,allUnits:o,colors:s,steps:this.props.steps,screen:this.props.screen,getCapture:function(t){return a.setState({capture:t})},getDialPos:function(t){return a.setState({dialPos:t})}})))));return u.a.createElement("div",{className:"HQcontainer"},t,u.a.createElement(x.a,{type:"flex",justify:"start",align:"top"},u.a.createElement("div",{className:"HQtimelineBox"},u.a.createElement("div",{className:"HQtimelineButtonRow"},u.a.createElement(x.a,{type:"flex",justify:"space-between",align:"middle"},u.a.createElement("div",{className:"HQtimelineButtonBox"},u.a.createElement(U.a,{type:"link",onClick:this.onEditClick.bind(this),className:"HQtimelineButtonUnit"},u.a.createElement(y.a,{type:d,className:"HQbuttonText"})),u.a.createElement(U.a,{type:"link",onClick:this.onPlayClick.bind(this),className:"HQtimelineButtonUnit"},u.a.createElement(y.a,{type:l,className:"HQbuttonText"})),u.a.createElement(U.a,{type:"link",onClick:function(){a.TimelineConfig.showModal()},className:"HQtimelineButtonUnit"},u.a.createElement(y.a,{type:"setting",className:"HQbuttonText"})),u.a.createElement(pt,{onRef:function(t){return a.TimelineConfig=t},saveTrigger:this.state.saveTrigger,clearTrigger:this.state.clearTrigger,getSaveTrigger:function(t){return a.setState({saveTrigger:t})},getClearTrigger:function(t){return a.setState({clearTrigger:t})}})),u.a.createElement("div",{className:"HQmoSelector"},u.a.createElement(S,{size:h,defaultUnit:i,allUnits:o,getColors:this.getColors,getActiveUnit:function(t){return a.setState({activeUnit:t})}})))),u.a.createElement(x.a,{type:"flex",justify:"start",align:"bottom"},u.a.createElement(dt,{activeUnit:i,allUnits:o,screen:this.props.screen,steps:this.props.steps,capture:this.state.capture,inPointVal:this.state.dialPos,makePlay:this.state.areTimelinesPlaying,makeEdit:this.state.areTimelinesEditing,makeClear:this.state.clearTrigger,makeSave:this.state.saveTrigger,colors:s,getActivePointVal:function(t){return a.setState({activePointVal:t})}})))))}}]),e}(l.Component)),ft=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(f.a)(this,Object(v.a)(e).call(this))).state={page:"hq",height:window.innerHeight,width:window.innerWidth,steps:4096},t.updateDimensions=t.updateDimensions.bind(Object(g.a)(t)),t}return Object(b.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"updateDimensions",value:function(){this.setState({screen:{height:window.innerHeight,width:window.innerWidth}}),console.log("width: "+window.innerWidth+",  height: "+window.innerHeight)}},{key:"render",value:function(){var t,e=this,a=this.state,n=a.page,i=a.screen;return"hq"===n?t=u.a.createElement(mt,{className:"APhq",unitId:2,allUnits:[1,2,3,6,8,11,14,15,19,22,24,25],screen:i,steps:this.state.steps}):"timelines"===n&&(t=u.a.createElement("div",{className:"APtimelineContainer"})),u.a.createElement("div",{className:"App"},u.a.createElement("div",{className:"APmenu"},u.a.createElement(O,{getChoice:function(t){return e.setState({page:t})}})),u.a.createElement("div",{className:"APoffset"}),t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}}]),e}(l.Component),vt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function gt(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}h.a.render(u.a.createElement(ft,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/mo-control",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/mo-control","/service-worker.js");vt?function(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):gt(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t):gt(t)})}}()},82:function(t,e,a){t.exports={container:"analogReadButton_container__2IL9P",buttonUnit:"analogReadButton_buttonUnit__314xk",budge:"analogReadButton_budge__MA_4C"}}},[[153,1,2]]]);
//# sourceMappingURL=main.e4393bbf.chunk.js.map